# ğŸ“¦ MalianDevs Template Backend - Informations Projet

## ğŸ¯ Objectif du Template

Ce template backend a Ã©tÃ© crÃ©Ã© par la communautÃ© MalianDevs pour servir de base universelle Ã  tout type d'application mÃ©tier. Il contient toutes les fonctionnalitÃ©s essentielles prÃ©-configurÃ©es et prÃªtes Ã  l'emploi.

## âœ… Ce qui est Inclus

### Authentification & SÃ©curitÃ©
- âœ… SystÃ¨me JWT complet
- âœ… Authentification Ã  2 facteurs (2FA)
- âœ… Gestion sÃ©curisÃ©e des sessions
- âœ… Tracking des connexions (IP, User-Agent)
- âœ… Invalidation de sessions
- âœ… Hachage sÃ©curisÃ© des mots de passe (bcrypt)

### Gestion des Utilisateurs
- âœ… CRUD complet des utilisateurs
- âœ… SystÃ¨me de rÃ´les hiÃ©rarchiques (Administrateur > Manager > Utilisateur)
- âœ… SystÃ¨me de permissions granulaires
- âœ… Activation/DÃ©sactivation de comptes
- âœ… Profils utilisateurs

### Monitoring & Audit
- âœ… Logs d'activitÃ© dÃ©taillÃ©s (ActivityLog)
- âœ… Suivi des sessions actives
- âœ… Historique des connexions
- âœ… Statistiques d'utilisation
- âœ… Dashboard de monitoring

### Configuration
- âœ… ParamÃ¨tres dynamiques (Settings)
- âœ… PrÃ©fÃ©rences utilisateur personnalisables
- âœ… ParamÃ¨tres publics et privÃ©s
- âœ… Support multi-base de donnÃ©es (PostgreSQL, MySQL, SQLite)

### Exemples CRUD Complets
- âœ… **Products** : Exemple de CRUD simple
  - Model, Service, Controller, Routes
  - Pagination, filtres, recherche
  - Gestion du stock
  - ProtÃ©gÃ© par permissions

- âœ… **Orders** : Exemple de CRUD relationnel
  - Relations Order â†’ OrderItems â†’ Products
  - Gestion automatique du stock
  - Calcul automatique des totaux
  - Gestion des statuts
  - Transactions sÃ©curisÃ©es

### Architecture & Code
- âœ… Architecture MVC propre et modulaire
- âœ… SÃ©paration claire des responsabilitÃ©s
- âœ… Services rÃ©utilisables
- âœ… Middlewares personnalisÃ©s
- âœ… Gestion d'erreurs centralisÃ©e
- âœ… RÃ©ponses API standardisÃ©es
- âœ… Documentation complÃ¨te dans le code
- âœ… Tests Jest configurÃ©s

### Scripts Utilitaires
- âœ… Script de seed (initialisation DB)
- âœ… CrÃ©ation automatique d'admin
- âœ… Initialisation des rÃ´les et permissions
- âœ… Support environnements dev/prod

## ğŸ—‚ï¸ Structure du Projet

```
MalianDevs-Template-Backend/
â”‚
â”œâ”€â”€ ğŸ“„ app.js                    # Point d'entrÃ©e principal
â”œâ”€â”€ ğŸ“„ package.json              # DÃ©pendances et scripts
â”œâ”€â”€ ğŸ“„ .env                      # Configuration (Ã  crÃ©er)
â”œâ”€â”€ ğŸ“„ README.md                 # Documentation complÃ¨te
â”œâ”€â”€ ğŸ“„ QUICK_START.md            # Guide dÃ©marrage rapide
â”‚
â”œâ”€â”€ ğŸ“ config/                   # Configuration
â”‚   â”œâ”€â”€ sequelize.js             # Configuration base de donnÃ©es
â”‚   â”œâ”€â”€ jwt.js                   # Configuration JWT
â”‚   â””â”€â”€ multer-config.js         # Configuration upload fichiers
â”‚
â”œâ”€â”€ ğŸ“ constants/                # Constantes du projet
â”‚   â””â”€â”€ auditActions.js          # Actions d'audit
â”‚
â”œâ”€â”€ ğŸ“ controllers/              # ContrÃ´leurs (logique HTTP)
â”‚   â”œâ”€â”€ AuthController.js        # Authentification
â”‚   â”œâ”€â”€ userController.js        # Gestion utilisateurs
â”‚   â”œâ”€â”€ RoleController.js        # Gestion rÃ´les
â”‚   â”œâ”€â”€ PermissionController.js  # Gestion permissions
â”‚   â”œâ”€â”€ MonitoringController.js  # Monitoring & audit
â”‚   â”œâ”€â”€ SettingsController.js    # ParamÃ¨tres
â”‚   â”œâ”€â”€ ProductController.js     # EXEMPLE CRUD simple
â”‚   â””â”€â”€ OrderController.js       # EXEMPLE CRUD relationnel
â”‚
â”œâ”€â”€ ğŸ“ models/                   # ModÃ¨les (structure donnÃ©es)
â”‚   â”œâ”€â”€ User.js                  # Utilisateurs
â”‚   â”œâ”€â”€ Role.js                  # RÃ´les
â”‚   â”œâ”€â”€ Permission.js            # Permissions
â”‚   â”œâ”€â”€ RolePermission.js        # Liaison rÃ´les-permissions
â”‚   â”œâ”€â”€ UserSession.js           # Sessions utilisateur
â”‚   â”œâ”€â”€ ActivityLog.js           # Logs d'activitÃ©
â”‚   â”œâ”€â”€ Settings.js              # ParamÃ¨tres
â”‚   â”œâ”€â”€ Product.js               # EXEMPLE CRUD simple
â”‚   â”œâ”€â”€ Order.js                 # EXEMPLE CRUD relationnel
â”‚   â”œâ”€â”€ OrderItem.js             # Items de commande
â”‚   â””â”€â”€ index.js                 # Associations
â”‚
â”œâ”€â”€ ğŸ“ services/                 # Services (logique mÃ©tier)
â”‚   â”œâ”€â”€ AuthService.js           # Service authentification
â”‚   â”œâ”€â”€ AuditService.js          # Service audit & logs
â”‚   â”œâ”€â”€ NotificationService.js   # Service notifications
â”‚   â”œâ”€â”€ ProductService.js        # EXEMPLE service CRUD
â”‚   â””â”€â”€ OrderService.js          # EXEMPLE service relationnel
â”‚
â”œâ”€â”€ ğŸ“ routes/                   # Routes (endpoints API)
â”‚   â”œâ”€â”€ AuthRoutes.js            # /api/auth
â”‚   â”œâ”€â”€ userRoutes.js            # /api/users
â”‚   â”œâ”€â”€ RoleRoutes.js            # /api/roles
â”‚   â”œâ”€â”€ PermissionRoutes.js      # /api/permissions
â”‚   â”œâ”€â”€ MonitoringRoutes.js      # /api/monitoring
â”‚   â”œâ”€â”€ SettingsRoutes.js        # /api/settings
â”‚   â”œâ”€â”€ ProductRoutes.js         # /api/products (EXEMPLE)
â”‚   â””â”€â”€ OrderRoutes.js           # /api/orders (EXEMPLE)
â”‚
â”œâ”€â”€ ğŸ“ middlewares/              # Middlewares
â”‚   â”œâ”€â”€ auth.js                  # Authentification JWT
â”‚   â”œâ”€â”€ authorize.js             # Autorisation permissions
â”‚   â”œâ”€â”€ audit.js                 # Audit des activitÃ©s
â”‚   â”œâ”€â”€ sessionCheck.js          # VÃ©rification sessions
â”‚   â”œâ”€â”€ cors.js                  # Configuration CORS
â”‚   â””â”€â”€ responseSanitizer.js     # Nettoyage rÃ©ponses
â”‚
â”œâ”€â”€ ğŸ“ utils/                    # Utilitaires
â”‚   â”œâ”€â”€ errorHandler.js          # Gestion erreurs
â”‚   â”œâ”€â”€ responseHandler.js       # Standardisation rÃ©ponses
â”‚   â”œâ”€â”€ jwt.js                   # Utilitaires JWT
â”‚   â”œâ”€â”€ dataSanitizer.js         # Nettoyage donnÃ©es
â”‚   â””â”€â”€ permissionsInit.js       # Init rÃ´les/permissions
â”‚
â”œâ”€â”€ ğŸ“ scripts/                  # Scripts utilitaires
â”‚   â”œâ”€â”€ seed.js                  # Peuplement DB
â”‚   â””â”€â”€ checkAdminPermissions.js # VÃ©rification permissions
â”‚
â”œâ”€â”€ ğŸ“ tests/                    # Tests
â”‚   â”œâ”€â”€ auth.test.js
â”‚   â”œâ”€â”€ permissions.test.js
â”‚   â””â”€â”€ setup.js
â”‚
â””â”€â”€ ğŸ“ uploads/                  # Fichiers uploadÃ©s

```

## ğŸš€ DÃ©marrage Rapide

```bash
# 1. Installer les dÃ©pendances
npm install

# 2. CrÃ©er le fichier .env (voir .env.example)

# 3. Initialiser la base de donnÃ©es
npm run seed

# 4. DÃ©marrer le serveur
npm run dev
```

**Identifiants par dÃ©faut :**
- Username: `admin`
- Password: `Admin123!`

## ğŸ“Š Permissions Disponibles

### Administratives
- ADMIN - AccÃ¨s administrateur complet
- USERS_ADMIN - Gestion des utilisateurs
- ROLES_MANAGE - Gestion des rÃ´les
- PERMISSIONS_MANAGE - Gestion des permissions

### Visualisation
- USERS_VIEW - Voir les utilisateurs
- ROLES_VIEW - Voir les rÃ´les
- PERMISSIONS_VIEW - Voir les permissions
- MONITORING_VIEW - AccÃ¨s au monitoring

### Contenu
- CONTENT_VIEW - Voir le contenu
- CONTENT_MANAGE - GÃ©rer le contenu
- REPORTS_VIEW - Voir les rapports
- SETTINGS_MANAGE - GÃ©rer les paramÃ¨tres

### Produits (Exemple)
- PRODUCTS_VIEW - Voir les produits
- PRODUCTS_CREATE - CrÃ©er des produits
- PRODUCTS_UPDATE - Modifier des produits
- PRODUCTS_DELETE - Supprimer des produits

### Commandes (Exemple)
- ORDERS_VIEW - Voir les commandes
- ORDERS_CREATE - CrÃ©er des commandes
- ORDERS_UPDATE - Modifier des commandes
- ORDERS_DELETE - Supprimer des commandes

## ğŸ¯ Utilisation pour Nouveaux Projets

### Personnaliser pour Votre Projet

1. **Renommer le projet**
   - Modifier `name` dans `package.json`
   - Mettre Ã  jour `README.md`

2. **Adapter les rÃ´les**
   - Modifier `utils/permissionsInit.js`
   - Ajouter/supprimer des rÃ´les selon vos besoins

3. **CrÃ©er vos entitÃ©s**
   - Utiliser Products/Orders comme modÃ¨les
   - Suivre le pattern Model â†’ Service â†’ Controller â†’ Routes

4. **Adapter la configuration**
   - Configurer `.env` selon votre environnement
   - Ajuster les paramÃ¨tres JWT, CORS, etc.

### Exemples d'Applications Possibles

- ğŸ½ï¸ Gestion de restaurant
- ğŸ® Gaming center
- ğŸ« Gestion d'Ã©cole
- ğŸ¬ E-commerce
- ğŸ“š BibliothÃ¨que
- ğŸ¥ Clinique mÃ©dicale
- ğŸ‹ï¸ Salle de sport
- ğŸ¨ Gestion d'hÃ´tel
- Et bien plus...

## ğŸ› ï¸ Technologies UtilisÃ©es

- **Node.js** : Runtime JavaScript
- **Express.js** : Framework web
- **Sequelize** : ORM pour base de donnÃ©es
- **JWT** : Authentification par tokens
- **Bcrypt** : Hachage des mots de passe
- **Speakeasy** : GÃ©nÃ©ration codes 2FA
- **Jest** : Tests unitaires
- **Morgan** : Logs HTTP
- **Multer** : Upload de fichiers

## ğŸ“ Notes Importantes

- âš ï¸ Changez **TOUJOURS** le `JWT_SECRET` en production
- âš ï¸ Changez le mot de passe admin aprÃ¨s le premier dÃ©ploiement
- âš ï¸ Utilisez HTTPS en production
- âš ï¸ Configurez correctement CORS selon votre frontend
- âš ï¸ Activez les variables d'environnement appropriÃ©es pour la production

## ğŸ¤ Contribution

Ce projet est maintenu par la communautÃ© **MalianDevs**.

Pour contribuer :
1. Fork le projet
2. CrÃ©ez une branche feature
3. Committez vos changements
4. Ouvrez une Pull Request

## ğŸ“œ Licence

ISC License - Libre d'utilisation

---

**DÃ©veloppÃ© avec â¤ï¸ par la communautÃ© MalianDevs**

Pour toute question ou support, consultez la documentation complÃ¨te dans `README.md` ou `QUICK_START.md`.
